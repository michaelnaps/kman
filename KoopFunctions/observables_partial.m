function [dPsix, dPsiu] = observables_partial(x, u, world)
%     x1 = x(1);  x2 = x(2);
%     u1 = u(1);  u2 = u(2);
% 
%     r11 = world(1).x(1);  r21 = world(1).x(2);
%     r12 = world(2).x(1);  r22 = world(2).x(2);
%     r13 = world(3).x(1);  r23 = world(3).x(2);
%     r14 = world(4).x(1);  r24 = world(4).x(2);

%     dPsix = [
%         1, 0, 2*x1, x2, x2, 0, 0, 0, 0, 0, 0, 0, u1, 0, u2, 0, 2*(x1-r11), 2*(x1-r12), 2*(x1-r13), 2*(x1-r14), 0;
%         0, 1, 0, x1, x1, 2*x2, 0, 0, 0, 0, 0, 0, 0, u1, 0, u2, 2*(x2-r21), 2*(x2-r22), 2*(x2-r23), 2*(x2-r24), 0;
%     ];
% 
%     dPsiu = [
%         0, 0, 0, 0, 0, 0, 1, 0, 2*u1, u2, u2, 0, x1, x2, 0, 0, 0, 0, 0, 0, 0;
%         0, 0, 0, 0, 0, 0, 0, 1, 0, u1, u1, 2*u2, 0, 0, x1, x2, 0, 0, 0, 0, 0;
%     ];

%     dPsix = [
%         1, 0, x1, 1/2*x2, 1/2*x2, 0, 0, 0, 0, 0, 0, 0, 1/2*u1, 0, 1/2*u2, 0, 2*(x1-r11), 2*(x1-r12), 2*(x1-r13), 2*(x1-r14), 0;
%         0, 1, 0, 1/2*x1, 1/2*x1, x2, 0, 0, 0, 0, 0, 0, 0, 1/2*u1, 0, 1/2*u2, 2*(x2-r21), 2*(x2-r22), 2*(x2-r23), 2*(x2-r24), 0;
%     ];
%
%     dPsiu = [
%         0, 0, 0, 0, 0, 0, 1, 0, u1, 1/2*u2, 1/2*u2, 0, 1/2*x1, 1/2*x2, 0, 0, 0, 0, 0, 0, 0;
%         0, 0, 0, 0, 0, 0, 0, 1, 0, 1/2*u1, 1/2*u1, u2, 0, 0, 1/2*x1, 1/2*x2, 0, 0, 0, 0, 0;
%     ];

    obs_x = @(x) observables(x, u, world);
    dPsix = fdm(obs_x, x);

    obs_u = @(u) observables(x, u, world);
    dPsiu = fdm(obs_u, u);

end